import{$ as t,D as o,c as s}from"./c3.js";import{g as r}from"./util.js";t(document).ready(function(){new o("#fos-table",{pageLength:10,orderClasses:!1,order:[[1,"desc"]]}),c(),l(),u(),i()});function c(){n.columns.length!=0&&s.generate({bindto:"#chartPublications",data:n,legend:{show:!1},axis:{x:{label:{text:"Year",position:"outer-center"}},y:{label:"Number of Publications"}}})}function l(){e.columns.length!=0&&s.generate({bindto:"#chartGrants",data:e,donut:{title:"Grants"}})}const e=JSON.parse(document.getElementById("grants-agency-chart-data")?.textContent),n=JSON.parse(document.getElementById("publication-by-year-bar-chart-data")?.textContent);function i(){t.ajax({headers:{"X-CSRFToken":r("csrftoken")},type:"GET",url:"/allocation-summary",success:function(a){t("#allocation-summary").html(a)}})}function u(){t.ajax({headers:{"X-CSRFToken":r("csrftoken")},type:"GET",url:"/allocation-by-fos",success:function(a){t("#allocation-by-fos").html(a),new o("#fos-table",{pageLength:10,orderClasses:!1,order:[[1,"desc"]]})}})}
